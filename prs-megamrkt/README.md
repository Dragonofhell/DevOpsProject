# Описание
Утилита принимает на вход ссылку ( в т.ч. с фильтрами) и разбирает данные в формате:
- Наименование
- Цена
- Процент кешбека
- Количество баллов
- Реальная цена ( Цена - кешбек)
- Ссылка на товар

# Требования
## Необходимые библиотеки Python
Centos 7:
sudo pip3 install selenium bs4 beautifulsoup4 pandas openpyxl

 - selenium
 - bs4
 - BeautifulSoup
 - time
 - datetime
 - pandas
 - urllib.parse
 - json
 - random
 - openpyxl
 - ...


# MASTER
## 1.0.0
- Ссылку необходимо указывать в коде.
- В функции fetch_data(url) намеренно используется ожидание в 5 секунд. Необходимо для корректного отображения html при обработке ссылки с filter
- Файл Excel формируется в той же директории, где создан проект
- Наименование файла формируется из ссылки + текущая дата
## 1.0.1
- Добавлен ввод ссылки из командной строки
- Ссылки теперь попадают в файл в виде гиперссылок
- мелкие исправления и чистка кода
## 1.0.2
Минимальный набор для запуска:
- В директории с исполняемым скриптом создана папка config.
- В директории config присутствуют файлы urls.txt и config.json
- В директории config создана папка из параметра result_dir
- - Добавлена функция отправки уведомлений в Telegram
- - Добавлен config.json для настройки Telegram уведомлений, а также для сохранения данных после выполнения:
 
Параметр | Описание | Пример
----------|----------|----------
| result_dir    | Директория для сохранения результатов выполнения   | "config/results_excel"   |
| min_bonus_amount    | Минимальный кешбек (в %), при котором отработает отправка уведомления  | "75"   |
| best_bonus_amount    | Самые выгодные условия по кешбеку(например при выборе min_bonus_amount, отправлять в отдельного бота только те товары, где кешбек 75%+)    | "75"   |
| tokenid_top    | Отправка уведомлений через чат-бота с очень выгодными кешбеками ( применяется для best_bonus_amount).   | "6441:AAGBVssAqa1S"   |
| tokenid    | Отправка уведомлений через чат-бота  ( применяется для min_bonus_amount).   | "6486:qAXASGBVz6s9UKs"   |
| chat_id    | id чата, можно узнать из https://api.telegram.org/bot{tokenid}/getUpdates, предварительно отправив сообщение в чат-бот вручную   | 329291   |
- Убраны лишние функции
- добавлены примеры файлов в папки config
